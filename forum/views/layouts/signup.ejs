<%- include('../fragments/header') %>
        <section>
            <content type='sub'>
                <h1>Have an Account?</h1>
                <h2>Sign In and make a comment!</h2>
                <a class='button' href='/signin'>Sign In</a>
            </content>
            <content type='main'>
                <h1>Welcome!</h1>
                <h2>Let's create your account</h2>
                <form valid-form='<% const formId = uniqid(); %><%= formId %>' action='https://api.<%= process.env.DOMAIN %>/signup' method='POST' target='hiddenFrame'>
                    <field>
                        <input-field title='First Name'>
                            <input key='fname' type='text' name='fname' required placeholder='First Name' onkeypress='formAdjust(event)' />
                        </input-field>
                        <input-field title='Last Name'>
                            <input key='lname' type='text' name='lname' required placeholder='Last Name' onkeypress='formAdjust(event)' />
                        </input-field>
                    </field>
                    <input-field title='Email'>
                        <input key='email' type='email' name='email' required placeholder='Email' onkeypress='formAdjust(event)' />
                    </input-field>
                    <input-field title='Username'>
                        <input key='username' type='text' name='username' required placeholder='Username' onkeypress='formAdjust(event)' />
                    </input-field>
                    <input-field title='Password'>
                        <input key='password' type='password' name='password' required placeholder='Password' onkeypress='formAdjust(event)' />
                    </input-field>
                    <input-field title='Retype Password'>
                        <input key='rpassword' type='password' name='rpassword' required placeholder='Retype Password' onkeypress='formAdjust(event)' />
                    </input-field>
                    <div>Already have an account? <a href='/signin'>Sign In</a></div>
                    <pow>
                        <svg viewBox='0 0 24 24'>
                            <path d='M18 12A6.41 6.41 0 0 1 20.87 12.67A11.63 11.63 0 0 0 21 11V5L12 1L3 5V11C3 16.55 6.84 21.74 12 23C12.35 22.91 12.7 22.8 13 22.68A6.42 6.42 0 0 1 11.5 18.5A6.5 6.5 0 0 1 18 12M18 14.5V13L15.75 15.25L18 17.5V16A2.5 2.5 0 0 1 20.24 19.62L21.33 20.71A4 4 0 0 0 18 14.5M18 21A2.5 2.5 0 0 1 15.76 17.38L14.67 16.29A4 4 0 0 0 18 22.5V24L20.25 21.75L18 19.5Z' />
                        </svg>
                        <span>PoW verification in progress.</span>
                    </pow>
                    <response></response>
                    <input id='<% const buttonId = uniqid() %><%= buttonId %>' type='submit' disabled />
                    <label type='submit' for='<%= buttonId %>' disabled>Sign Up</label>
                </form>
            </content>
            <iframe name='hiddenFrame'></iframe>
            
            <script nonce='<%= nonce %>'>
                const validForm = '<%= formId %>';
                var pow = <%- JSON.stringify(pow) %>;
            </script>
            <script src='/scripts/form.js'></script>

<%- include('../fragments/footer') %>
